<!DOCTYPE html>
<html>
<head>
    <title>Scrape Data</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <script src="https://unpkg.com/scrollreveal"></script>

    <style>
        html, body, h1, h2, h3, h4, h5 {
            font-family: 'Raleway', sans-serif;
        }
        .active-page {
            background-color: green !important;
        }
    </style>
</head>
<body class="w3-light-grey">
    <!-- Top container -->
    <div class="w3-bar w3-top w3-black w3-large" style="z-index: 4">
        <button class="w3-bar-item w3-button w3-hide-large w3-hover-none w3-hover-text-light-grey" onclick="w3_open();">
            <i class="fa fa-pie-chart"></i> Menu <!-- Cambiado a un icono de gráfica -->
        </button>
        <div class="w3-bar-item w3-right">
            <div class="w3-col s4" style="width: 5vw; height: auto">
                <img src="{{ url_for('static', filename='images/logo-up-dorado.png') }}" style="width: 100%; height: auto" />
            </div>
        </div>
        <span class="w3-bar-item w3-right" style="line-height: 3vw">NFL Statistic Dashboard</span>
    </div>

    <!-- Sidebar/menu -->
    <nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index: 3; width: 300px; padding-top: 2vw" id="mySidebar">
        <br />
        <div class="w3-container">
            <h5>Dashboard</h5>
        </div>
        <div class="w3-bar-block">
            <a href="/" class="w3-bar-item w3-button w3-padding-16 w3-hide-large w3-dark-grey w3-hover-black" onclick="w3_close()" title="close menu">
                <i class="fa fa-remove fa-fw"></i> Close Menu
            </a>
            <a href="/team" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-users fa-fw"></i> Team
            </a>
            <a href="/database" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-database fa-fw"></i> Database
            </a>
            <a href="/scrape" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-cloud-download fa-fw"></i> Scrape Data
            </a>
            <a href="/chart_current_status" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-pie-chart fa-fw"></i> Current Status
            </a>
            <a href="/college" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-bar-chart fa-fw"></i> Top and worst College
            </a>
            <a href="/nfl_teams" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-bar-chart fa-fw"></i> Rushing TDs received by team
            </a>
            <a href="/nfl_teams_pass" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-bar-chart fa-fw"></i> Passing TDs received by team
            </a>
            <a href="/calendar" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-calendar fa-fw"></i> Calendar
            </a>
            <a href="/eficiencia" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-users fa-fw"></i> Carry efficiency
            </a>
            <a href="/eficiencia_catch" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-users fa-fw"></i> Trapping efficiency
            </a>
            <a href="/eficiencia_pass" class="w3-bar-item w3-button w3-padding w3-blue">
                <i class="fa fa-users fa-fw"></i> Throwing efficiency
            </a>
        </div>
        </div>
    </nav>

    <!-- Overlay effect when opening sidebar on small screens -->
    <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor: pointer" title="close side menu" id="myOverlay"></div>

    <!-- !PAGE CONTENT! -->
    <div class="w3-main" style="margin-left: 300px; margin-top: 43px">
        <!-- Header -->
        <header class="w3-container" style="padding-top: 2vw">
            <h5>
                <b><i class="fa fa-pie-chart"></i> Current Status </b> <!-- Cambiado a un icono de gráfica -->
            </h5>
        </header>

        <!-- Formulario para seleccionar los datos a mostrar en la gráfica -->
        <div class="w3-container w3-padding-32">
            <h5>Select Data for Chart:</h5>
            <form method="post" action="{{ url_for('chart') }}">
                <select name="experience" class="w3-select w3-margin-top">
                    <option value="">All Experience</option>
                        <option value="0 Season">Rookie</option>
                        <option value="1 Season">1 Season</option>
                        <option value="2nd season">2nd Season</option>
                        <option value="3th season">3th Season</option>
                        <option value="4th season">4th Season</option>
                        <option value="5th season">5th Season</option>
                        <option value="6th season">6th Season</option>
                        <option value="7th season">7th Season</option>
                        <option value="8th season">8th Season</option>
                        <option value="9th season">9th Season</option>
                        <option value="10th season">10th Season</option>
                        <option value="11th season">11th Season</option>
                        <option value="12th season">12th Season</option>
                        <option value="13th season">13th Season</option>
                        <option value="14th season">14th Season</option>
                        <option value="15th season">15th Season</option>
                        <option value="16th season">16th Season</option>
                        <option value="17th season">17th Season</option>
                        <option value="18th season">18th Season</option>
                        <option value="19th season">19th Season</option>
                        <option value="20th season">20th Season</option>
                        <option value="21th season">21th Season</option>
                        <option value="22th season">22th Season</option>
                        <option value="23th season">23th Season</option>
                        <option value="24th season">24th Season</option>
                        <option value="25th season">25th Season</option>
                </select>
                <select name="status" class="w3-select w3-margin-top">
                    <option value="">All Status</option>
                    <option value="Active">Active</option>
                    <option value="Retired">Retired</option>
                    <option value="Injured Reserve">Injured Reserve</option>
                    <option value="Physically Unable to Perform">Physically Unable to Perform</option>
                    <option value="Suspended">Suspended</option>
                    <option value="Unsigned Free Agent">Unsigned Free Agent</option>
                </select>
                <button type="submit" class="w3-button w3-blue w3-margin-top">Generate Chart</button>
            </form>
        </div>

        <!-- Sección para mostrar la gráfica -->
        <div class="w3-container w3-padding-32">
            <img src="{{ url_for('static', filename='plot.png') }}" style="width: 100%; height: auto;" />
        </div>

        <!-- Footer -->
        <footer class="w3-container w3-padding-16 w3-light-grey">
            <p>
                Powered by
                <a href="https://www.up.edu.mx/educacion-universidad-facultad-de-ingenieria/" target="_blank">Universidad Panamericana</a>
            </p>
        </footer>

        <!-- End page content -->
    </div>

    <script>
        // Esperar a que la página se cargue
        document.addEventListener("DOMContentLoaded", function() {
        // Obtener la URL actual
            var currentPath = window.location.pathname;

            // Obtener todos los enlaces en la barra de navegación
            var navLinks = document.querySelectorAll('.w3-bar-item.w3-button');

            // Iterar sobre cada enlace y verificar si su href coincide con la URL actual
            navLinks.forEach(function(link) {
                if (link.getAttribute('href') === currentPath) {
                    // Añadir la clase 'active-page' al enlace actual
                    link.classList.add('active-page');
                }
            });
        });

        // Get the Sidebar
        var mySidebar = document.getElementById('mySidebar');

        // Get the DIV with overlay effect
        var overlayBg = document.getElementById('myOverlay');

        // Toggle between showing and hiding the sidebar, and add overlay effect
        function w3_open() {
            if (mySidebar.style.display === 'block') {
                mySidebar.style.display = 'none';
                overlayBg.style.display = 'none';
            } else {
                mySidebar.style.display = 'block';
                overlayBg.style.display = 'block';
            }
        }

        // Close the sidebar with the close button
        function w3_close() {
            mySidebar.style.display = 'none';
            overlayBg.style.display = 'none';
        }

        // ScrollReveal configuration
        ScrollReveal().reveal('.w3-container, .w3-third', {
            origin: 'bottom',
            distance: '50px',
            duration: 1000,
            delay: 200,
            rotate: { x: 0, y: 0, z: 0 },
            opacity: 0,
            scale: 1,
            easing: 'cubic-bezier(0.6, 0.2, 0.1, 1)',
            reset: false,
        });
    </script>
</body>
</html>
